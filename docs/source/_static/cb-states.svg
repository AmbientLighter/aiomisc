<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="249px" preserveAspectRatio="none" style="width:419px;height:249px;" version="1.1" viewBox="0 0 419 249" width="419px" zoomAndPan="magnify"><defs><filter height="300%" id="f1or9eddrict0y" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="200" x="103" y="16.708">State Transition Model</text><g id="PASSING"><rect fill="#FEFECE" filter="url(#f1or9eddrict0y)" height="50.2656" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="135" x="155" y="27.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="155" x2="290" y1="54.25" y2="54.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60" x="192.5" y="45.9482">PASSING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="115" x="160" y="70.3887">Collecting statistic</text></g><g id="BROKEN"><rect fill="#FEFECE" filter="url(#f1or9eddrict0y)" height="50.2656" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="127" x="7" y="184.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="7" x2="134" y1="211.25" y2="211.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="41" y="202.9482">BROKEN</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="107" x="12" y="227.3887">raising Exception</text></g><g id="RECOVERING"><rect fill="#FEFECE" filter="url(#f1or9eddrict0y)" height="50.2656" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="133" x="272" y="184.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="272" x2="405" y1="211.25" y2="211.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="92" x="292.5" y="202.9482">RECOVERING</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="113" x="277" y="227.3887">Half-opened state</text></g><ellipse cx="25.5" cy="52.9531" fill="#000000" filter="url(#f1or9eddrict0y)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><!--MD5=[ae47dda47b1e30e4de1b1450f1d2ca91]
link *start to PASSING--><path d="M35.5401,52.9531 C56.486,52.9531 106.471,52.9531 149.4902,52.9531 " fill="none" id="*start-to-PASSING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="154.6995,52.9531,145.6995,48.9531,149.6995,52.9531,145.6995,56.9531,154.6995,52.9531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="53.75" y="46.02">Default state</text><!--MD5=[ef8037e4f189f4d37770a59ec21b9fb3]
link PASSING to BROKEN--><path d="M198.0786,78.1779 C170.9325,106.2169 127.1636,151.4256 98.6117,180.9167 " fill="none" id="PASSING-to-BROKEN" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="94.8608,184.7909,103.9948,181.1071,98.3387,181.1986,98.2471,175.5425,94.8608,184.7909" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77" x="170.5" y="128.52">error_ratio</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="183" y="143.6528">reached</text><!--MD5=[b6de4222fd961b2c4d34ce42d0a5ca9d]
link BROKEN to RECOVERING--><path d="M134.0123,209.9531 C173.7939,209.9531 225.1625,209.9531 266.4616,209.9531 " fill="none" id="BROKEN-to-RECOVERING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="271.7038,209.9531,262.7038,205.9531,266.7038,209.9531,262.7038,213.9531,271.7038,209.9531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="152.5" y="203.02">start recovering</text><!--MD5=[8dea6bb125b5f8f5344c63974313de69]
link RECOVERING to BROKEN--><path d="M271.7489,225.3791 C261.1799,227.2789 250.3305,228.9149 240,229.9531 C207.2759,233.2418 198.7138,233.3419 166,229.9531 C157.2568,229.0474 148.1342,227.6871 139.1454,226.0938 " fill="none" id="RECOVERING-to-BROKEN" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="134.1686,225.1861,142.3047,230.7363,139.0874,226.0834,143.7403,222.8662,134.1686,225.1861" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="167" y="226.02">still errored</text><!--MD5=[d7fb0f7e2716ff610b7169e7270cb3ad]
link RECOVERING to PASSING--><path d="M319.9088,184.7909 C299.2955,156.8918 266.0817,111.9386 244.2699,82.4176 " fill="none" id="RECOVERING-to-PASSING" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="241.1374,78.1779,243.2683,87.7935,244.1086,82.1994,249.7027,83.0396,241.1374,78.1779" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="298.5" y="121.02">successful result</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="311.5" y="136.1528">greater then</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="77" x="313" y="151.2856">error_ratio</text><!--MD5=[018021d7e902edd550c88a8065e52230]
@startuml
title State Transition Model

state PASSING
state BROKEN
state RECOVERING

[*] -> PASSING: Default state
BROKEN: raising Exception
PASSING: Collecting statistic
RECOVERING: Half-opened state

PASSING - -> BROKEN: <b>error_ratio</b>\nreached
BROKEN -> RECOVERING: start recovering
RECOVERING - -> PASSING: successful result\ngreater then\n<b>error_ratio</b>
RECOVERING -> BROKEN: still errored

@enduml

PlantUML version 1.2021.4(Sun Apr 04 08:49:39 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>